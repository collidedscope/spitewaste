import math ; pow

srand: push $seed swap store ret

rand:
  push $seed dup dup load
  push 3,13,10244807 mul mul mul
  push 2,32 :pow mod
  store load ret

rand_range: ; [a b]
  copy 1 sub :rand swap mod add ret

dice:
  push -2 swap store push 1 :aryfill
  map (push -2 load :rand_range) ret
